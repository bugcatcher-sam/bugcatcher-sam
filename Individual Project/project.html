<!DOCTYPE html>
<html style="height: 100%; margin: 0;">
    <head>
        
        <title>map test</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--Referencing leaflet-->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="" />
        
        <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>

    </head>
        <body style="height: 100%; margin: 0;">
            <div id = "map" style="width: 100%; height: 100%; background: #888888; margin: 0;"></div>

            <script type="text/javascript">

                //map variables
                var mapSW = [0, 8192],
                    mapNE = [8192, 0];

                //Creating map
                var map = L.map('map').setView([0, 0], 2);

                //tiles
                L.tileLayer('maps/Shoreline/{z}/{x}/{y}.png', {
                    minZoom: 2,
                    maxZoom: 5,
                    continuousWorld: false,
                    noWrap: true,
                    crs: L.CRS.Simple,
                }).addTo(map);

                //map bounds
                map.setMaxBounds(new L.LatLngBounds(
                    map.unproject(mapSW, map.getMaxZoom()),
                    map.unproject(mapNE, map.getMaxZoom())
                ));

                // Markers and popups
                const myIcon = L.icon({
                    iconUrl: '/images/cache.png',
                });
                var marker = L.marker(map.unproject([4000, 3000], map.getMaxZoom())) ({icon: myIcon}).addTo(map);
                marker.bindPopup('<img src="/images/cache.png" alt="test" title="test image popup" style="width: 100%; height: 100%;">');

            </script>
        </body>
</html>
