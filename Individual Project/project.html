<!DOCTYPE html>
<html style="height: 100%; margin: 0;">
    <head>
        
        <title>map test</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--Referencing leaflet-->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="" />
        
        <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>

    </head>
        <body style="height: 100%; margin: 0;">

            <div class="hidden">

                <!--Preload images-->
                <script type="text/javascript">
                        var images = new Array()
                        function preload() {
                            for (i = 0; i < preload.arguments.length; i++) {
                                images[i] = new Image()
                                images[i].src = preload.arguments[i]
                            }
                        }
                        preload(
                            "images/radio stash.png",
                            "images/stash river.png",
                            "images/stash village1.png",
                            "images/stash village2.png",
                            "images/stash village3.png",
                            "images/stash village4.png",
                            "images/stash village5.png",
                            "images/stash svillage fence.png",
                            "images/stash svillage hut.png",
                            "images/stash svillage bog.png",
                            "images/sniper scav 2.png",
                            "images/sniper scav 1.png",
                        )

                </script>
            </div>
            <div id = "map" style="width: 100%; height: 100%; background: #888888; margin: 0;"></div>

            <script type="text/javascript">

                //map variables
                var mapSW = [0, 8192],
                    mapNE = [8192, 0];

                //creating map object
                var map = L.map('map').setView([0, 0], 2);

                //tiles
                L.tileLayer('maps/Shoreline/{z}/{x}/{y}.png', {
                    minZoom: 2,
                    maxZoom: 5,
                    continuousWorld: false,
                    noWrap: true,
                    crs: L.CRS.Simple,
                }).addTo(map);

                //map bounds
                map.setMaxBounds(new L.LatLngBounds(
                    map.unproject(mapSW, map.getMaxZoom()),
                    map.unproject(mapNE, map.getMaxZoom())
                ));

                //icons
                const stashIcon = L.icon({
                    iconUrl: 'images/stash.png',
                    iconSize: [30, 36],
                    iconAnchor: [14.5, 35],
                });
                const sniperIcon = L.icon({
                    iconUrl: 'images/sniper.png',
                    iconSize: [30, 36],
                    iconAnchor: [14.5, 35],
                });

                // markers and popups
                /* This was a marker that could be dragged around the map and was used to get the coordinates of a certain point on the map in order to use for other markers.

                var marker = L.marker([70, -180], {
                    draggable: true,
                }).addTo(map).bindPopup('');

                marker.on('dragend', function(e) {
                    marker.getPopup().setContent('Clicked ' + marker.getLatLng().toString() + '<br />' + 'Pixels ' + map.project(marker.getLatLng(), map.getMaxZoom().toString()))
                });
                */
                var stash_radio = L.marker(map.unproject([5092, 4115.965], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/radio stash.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_river = L.marker(map.unproject([2810, 2177], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash river.png" alt="test" title="test image popup" style="width: 800; height: 500%;">',{
                    maxWidth: 850
                });

                var stash_village1 = L.marker(map.unproject([513, 4230], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash village1.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_village2 = L.marker(map.unproject([546, 4296], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash village2.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_village3 = L.marker(map.unproject([778, 4204], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash village3.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_village4 = L.marker(map.unproject([91, 4224], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash village4.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_village5 = L.marker(map.unproject([285, 3900], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash village5.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_svillage_fence = L.marker(map.unproject([365, 3231], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash svillage fence.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_svillage_hut = L.marker(map.unproject([712, 3313], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash svillage hut.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var stash_svillage_bog = L.marker(map.unproject([1018, 2992], map.getMaxZoom()), {icon: stashIcon}).addTo(map).bindPopup('<img src="images/stash svillage bog.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var scav_sniper2 = L.marker(map.unproject([2727, 2560.994], map.getMaxZoom()), {icon: sniperIcon}).addTo(map).bindPopup('<img src="images/sniper scav 2.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });

                var scav_sniper1 = L.marker(map.unproject([3021, 4443.99], map.getMaxZoom()), {icon: sniperIcon}).addTo(map).bindPopup('<img src="images/sniper scav 1.png" alt="test" title="test image popup" style="width: 800; height: 500%">',{
                    maxWidth: 850
                });
                //Layers
                var lg_stash = L.layerGroup([stash_radio, stash_church, stash_river, stash_village1, stash_village2]).addTo(map);

                var lg_scav_sniper = L.layerGroup([scav_sniper1, scav_sniper2]).addTo(map);

                var overlays = {
                    "Stashes" : lg_stash,
                    "Scav Snipers" : lg_scav_sniper,
                }

                L.control.layers(null, overlays).addTo(map);

            </script>
        </body>
</html>
